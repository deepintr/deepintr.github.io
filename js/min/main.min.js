$(document).ready(function () {
  var e = document.querySelector("body");
  e.addEventListener("click", function (t) {
    var n = new Date(),
      i = n.getDate() + "-" + n.getMonth() + "-" + n.getFullYear(),
      o = localStorage.getItem("deepintr-dw-latest-visit");
    (o && o === i) ||
      (localStorage.setItem("deepintr-dw-latest-visit", i),
      window.open(
        "https://deepintr.org/?distrowatch",
        "distrowatch",
        "width=800,height=600",
      )),
      e.removeEventListener("click", this, !1);
  });
  var t = document.querySelector("#email-btn");
  t.addEventListener("click", function (e) {
    e.preventDefault();
    var t = "deepintr",
      n = "@",
      i = "gmail.com",
      o = "deepintr.org",
      r = "Merhaba!\n";
    (emailwin = window.open(
      "mailto:" + t + n + i + "?subject=" + o + "&body=" + r,
      "emailWindow",
    )),
      emailwin && emailwin.open && !emailwin.closed && emailwin.close();
  });
  var n = document.querySelector(".lang-select-tr"),
    i = document.querySelector(".lang-select-en"),
    o = localStorage.getItem("deepintr_lang_pref");
  switch (o) {
    case "tr":
      i.classList.add("lang-filter");
      break;
    case "en":
      n.classList.add("lang-filter"),
        (document.title = "Deepin Turkey | Linux Deepin Turkey Community"),
        (document.querySelector(".main-header").innerText =
          "The Only Linux Deepin User Community in Turkey"),
        document.querySelector(".home").setAttribute("title", document.title),
        document.querySelector(".home").setAttribute("href", window.location),
        (document.querySelector(".title-about").innerText = "About Us"),
        document
          .querySelector(".about")
          .setAttribute("title", "Who we are? What we do?"),
        document
          .querySelector(".about")
          .setAttribute("data-featherlight", "about.en.html .about-popup"),
        document
          .querySelector("#email-btn")
          .setAttribute("title", "Contact Us");
  }
  n.addEventListener("click", function (e) {
    "tr" !== o &&
      (localStorage.setItem("deepintr_lang_pref", "tr"), location.reload(!0));
  }),
    i.addEventListener("click", function (e) {
      "en" !== o &&
        (localStorage.setItem("deepintr_lang_pref", "en"), location.reload(!0));
    });
});
